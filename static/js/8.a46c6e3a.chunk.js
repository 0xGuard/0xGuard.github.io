(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[8],{264:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return u}));var a=n(2),c=n(268),r=n(67),s=function(e){var t=Object(c.a)();return Object(a.useMemo)((function(){return Object(r.a)(e,t)}),[e,t])},i=function(){var e=Object(c.a)();return Object(a.useMemo)((function(){return Object(r.b)(e)}),[e])},o=function(){var e=Object(c.a)();return Object(a.useMemo)((function(){return Object(r.g)(e)}),[e])},l=function(e){var t=Object(c.a)();return Object(a.useMemo)((function(){return Object(r.j)(e,t)}),[e,t])},u=function(){var e=Object(c.a)();return Object(a.useMemo)((function(){return Object(r.e)(e)}),[e])}},268:function(e,t,n){"use strict";var a=n(20),c=n(2),r=n(85),s=n.n(r),i=n(58),o=n(52);t.a=function(){var e=Object(i.c)().library,t=Object(c.useRef)(e),n=Object(c.useState)(e?new s.a(e):o.a),r=Object(a.a)(n,2),l=r[0],u=r[1];return Object(c.useEffect)((function(){e!==t.current&&(u(e?new s.a(e):o.a),t.current=e)}),[e]),l}},275:function(e,t,n){"use strict";n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return h}));var a=n(7),c=n(1),r=n(11),s=n(20),i=n(2),o=n(8),l=n.n(o),u=n(58),b=n(67),d=n(18),j=(n(268),n(83)),m=function(e){return e.NOT_FETCHED="not-fetched",e.SUCCESS="success",e.FAILED="failed",e}({}),O=function(){var e=Object(j.a)().slowRefresh,t=Object(i.useState)(),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.b)(),e.next=3,t.methods.totalSupply().call();case 3:n=e.sent,o(new l.a(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]),c},h=function(){var e=Object(j.a)().slowRefresh,t=Object(i.useState)(d.c),n=Object(s.a)(t,2),c=n[0],o=n[1];return Object(i.useEffect)((function(){function e(){return(e=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(b.g)(),e.next=3,t.methods.lfgPerSecond().call();case 3:n=e.sent,o(new l.a(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[e]),c};t.a=function(e){var t=m.NOT_FETCHED,n=m.SUCCESS,o=m.FAILED,O=Object(i.useState)({balance:d.c,fetchStatus:t}),h=Object(s.a)(O,2),f=h[0],p=h[1],x=Object(u.c)().account,g=Object(j.a)().fastRefresh;return Object(i.useEffect)((function(){var t=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var r,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(b.a)(e),t.prev=1,t.next=4,r.methods.balanceOf(x).call();case 4:s=t.sent,p({balance:new l.a(s),fetchStatus:n}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error(t.t0),p((function(e){return Object(c.a)(Object(c.a)({},e),{},{fetchStatus:o})}));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}();x&&t()}),[x,e,g,n,o]),f}},307:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,c,r,s=n(5),i=n(2),o=n.n(i),l=n(4),u=n(0),b=l.e.div(a||(a=Object(s.a)(["\n  height: ","px;\n  width: ","px;\n"])),(function(e){return e.size}),(function(e){return e.size})),d=function(e){var t,n=e.size,a=void 0===n?"md":n,c=Object(i.useContext)(l.a).spacing;switch(a){case"lg":t=c[6];break;case"sm":t=c[2];break;default:t=c[4]}return Object(u.jsx)(b,{size:t})},j=l.e.div(c||(c=Object(s.a)(["\n  align-items: center;\n  background-color: ","00;\n  display: flex;\n  margin: 0;\n  padding: ","px 0;\n"])),(function(e){return e.theme.colors.primaryDark}),(function(e){return e.theme.spacing[4]})),m=l.e.div(r||(r=Object(s.a)(["\n  flex: 1;\n"]))),O=function(e){var t=e.children,n=o.a.Children.toArray(t).length;return Object(u.jsx)(j,{children:o.a.Children.map(t,(function(e,t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{children:e}),t<n-1&&Object(u.jsx)(d,{})]})}))})}},308:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,c,r,s=n(5),i=(n(2),n(4)),o=n(27),l=n(61),u=n(8),b=n(0),d=i.e.div(a||(a=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  border-radius: 2px;\n  box-shadow: ",";\n  color: ",";\n  padding: 20px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.input}),(function(e){var t=e.isWarning,n=void 0!==t&&t,a=e.theme;return n?a.shadows.warning:a.shadows.inset}),(function(e){return e.theme.colors.text})),j=Object(i.e)(o.s)(c||(c=Object(s.a)(["\n  box-shadow: none;\n  flex: 1;\n  margin: 0 8px;\n  padding: 0 8px;\n\n  "," {\n    width: 80px;\n  }\n\n  "," {\n    width: auto;\n  }\n"])),(function(e){return e.theme.mediaQueries.xs}),(function(e){return e.theme.mediaQueries.sm})),m=Object(i.e)(o.H)(r||(r=Object(s.a)(["\n  position: absolute;\n  bottom: -22px;\n  a {\n    display: inline;\n  }\n"]))),O=function(e){var t=e.max,n=e.symbol,a=e.onChange,c=e.onSelectMax,r=e.value,s=e.addLiquidityUrl,i=e.inputTitle,O=e.decimals,h=void 0===O?18:O,f=Object(l.b)().t,p="0"===t||!t;return Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsxs)(d,{isWarning:p,children:[Object(b.jsxs)(o.o,{justifyContent:"space-between",pl:"16px",children:[Object(b.jsx)(o.H,{fontSize:"14px",children:i}),Object(b.jsx)(o.H,{fontSize:"14px",children:f("Balance: %balance%",{balance:function(e){if(p)return"0";var t=new u.BigNumber(e);return t.gt(0)&&t.lt(1e-4)?t.toLocaleString():t.toFixed(3,u.BigNumber.ROUND_DOWN)}(t)})})]}),Object(b.jsxs)(o.o,{alignItems:"flex-end",justifyContent:"space-around",children:[Object(b.jsx)(j,{pattern:"^[0-9]*[.,]?[0-9]{0,".concat(h,"}$"),inputMode:"decimal",step:"any",min:"0",onChange:a,placeholder:"0",value:r}),Object(b.jsx)(o.h,{scale:"sm",onClick:c,mr:"8px",children:f("Max")}),Object(b.jsx)(o.H,{fontSize:"16px",children:n})]})]}),p&&Object(b.jsxs)(m,{fontSize:"14px",color:"failure",children:[f("No tokens to stake"),":"," ",Object(b.jsx)(o.t,{fontSize:"14px",bold:!1,href:s,external:!0,color:"failure",children:f("Get %symbol%",{symbol:n})})]})]})}},325:function(e,t,n){"use strict";var a,c,r=n(5),s=(n(2),n(4)),i=n(0),o=s.e.div(a||(a=Object(r.a)(["\n  font-weight: 600;\n  font-size: 10px;\n  line-height: 16px;\n  text-transform: uppercase;\n  color: #9199b0;\n  text-align: left;\n  margin-bottom: 3px;\n"]))),l=s.e.div(c||(c=Object(r.a)(["\n  min-height: 24px;\n  display: flex;\n  align-items: center;\n"])));t.a=function(e){var t=e.label,n=void 0===t?"":t,a=e.children;return Object(i.jsxs)("div",{children:[n&&Object(i.jsx)(o,{children:n}),Object(i.jsx)(l,{children:a})]})}},349:function(e,t){},430:function(e){e.exports=JSON.parse('[{"image":"/images/bosses/4.jpg","name":"Alien In Black"},{"image":"/images/bosses/5.jpg","name":"Octopus"},{"image":"/images/bosses/3.jpg","name":"Sam Bankman Freed"},{"image":"/images/bosses/1.jpg","name":"CZ Bug Twins 1"},{"image":"/images/bosses/2.jpg","name":"CZ Bug Twins 2"},{"image":"/images/bosses/0.jpg","name":"Buterin The Animal"}]')},432:function(e,t,n){},433:function(e,t,n){},434:function(e,t,n){},486:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Te}));var a,c,r,s,i,o,l,u,b,d,j=n(2),m=n(58),O=n(27),h=n(144),f=n(20),p=n(5),x=n(7),g=n(11),v=n(8),w=n.n(v),k=n(4),S=n(303),_=n(38),N=n(35),y=n(275),C=n(268),D=n(18),T=n(67),I=n(36),E=n(17),H=n(264),F=n(159),B=n(160),R=n(83),M=N.a.dib,P=function(e){return e[e.IN_PROGRESS=0]="IN_PROGRESS",e[e.FINISHED=1]="FINISHED",e[e.WIN=2]="WIN",e[e.LOSE=3]="LOSE",e}({}),A=Object(E.c)(),z=function(e){var t=Object(R.a)().fastRefresh,n=Object(j.useState)(!1),a=Object(f.a)(n,2),c=a[0],r=a[1],s=Object(j.useState)([]),i=Object(f.a)(s,2),o=i[0],l=i[1],u=Object(H.a)(),b=Object(H.c)(),d=Object(C.a)();return Object(j.useEffect)((function(){var t=function(){var t=Object(g.a)(Object(x.a)().mark((function t(){var n,a,c,s,i,o,d;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),t.next=4,b.methods.gamesLength().call();case 4:for(n=t.sent,a=[],c=0;c<n;c++)a.push({address:A,name:"games",params:[c]});return t.next=9,Object(I.a)(F,a);case 9:s=t.sent,i=[],o=Object(x.a)().mark((function t(){var n,a,c,r,o;return Object(x.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s[d][0],c=(a=["bossHp","endTime","gameDuration","gameState","reward","rewardPerShare","totalDeposits"]).map((function(e){return{address:n,name:e,params:[]}})),e&&(a.push("deposits"),c.push({address:n,name:"deposits",params:[e]})),t.prev=4,t.next=7,Object(I.a)(B,c);case 7:if(r=t.sent,(o=c.reduce((function(e,t,n){return"deposits"===t.name?e[t.name]={amount:r[n][0],claimed:r[n][1]}:e[t.name]=r[n][0],e}),{})).id=d,o.address=n,o.endTime=parseFloat(o.endTime.toString()),o.gameDuration=parseFloat(o.gameDuration.toString()),!e){t.next=21;break}return t.t0=w.a,t.next=17,u.methods.allowance(e,n).call();case 17:t.t1=t.sent,o.tokenAllowance=new t.t0(t.t1).div(D.b.pow(M.decimals)),t.next=22;break;case 21:o.tokenAllowance=new w.a(0);case 22:i.push(o),t.next=28;break;case 25:t.prev=25,t.t2=t.catch(4),console.error("Game calls error",t.t2);case 28:case"end":return t.stop()}}),t,null,[[4,25]])})),d=0;case 13:if(!(d<s.length)){t.next=18;break}return t.delegateYield(o(),"t0",15);case 15:d++,t.next=13;break;case 18:l(i),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(0),console.error("fetch all games error",t.t1);case 24:return t.prev=24,r(!1),t.finish(24);case 27:case"end":return t.stop()}}),t,null,[[0,21,24,27]])})));return function(){return t.apply(this,arguments)}}();t()}),[b,d,u,e,t]),{isLoading:c,data:o}},G=n(431),L=n(430),W=function(e){return L[e]||{name:"Anonymous",image:"/images/anonymouspng.png"}},U=function(e,t){return V(t/(t+e)*100,2)},q=function(e,t){return parseFloat(Object(G.formatUnits)(e.toString(),t))},Y=function(e,t){var n=t.decimals,a=0,c=0,r=0,s=0,i=!0;e.deposits&&(s=function(e,t){return e*t}(c=q(e.rewardPerShare,n),r=q(e.deposits.amount,n)),a=e.deposits.claimed?0:s,i=e.deposits.claimed);var o=q(e.bossHp,n),l=q(e.totalDeposits,n);return{bossHp:o,power:l,reward:q(e.reward,n),possibleReward:s,claimableAmount:a,rewardPerShare:c,depositAmount:r,claimed:i,chanceToWinPercent:U(o,l)}},V=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},J=n(1),Q=n(16),Z=n(0),$=["onClick","children","disabled"],K=function(e){var t=e.onClick,n=e.children,a=e.disabled,c=Object(Q.a)(e,$),r=Object(j.useState)(!1),s=Object(f.a)(r,2),i=s[0],o=s[1],l=function(){var e=Object(g.a)(Object(x.a)().mark((function e(n){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,t(n);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.prev=9,o(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,6,9,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsxs)(O.h,Object(J.a)(Object(J.a)({onClick:l,disabled:a||i},c),{},{children:[i?Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(O.F,{size:24})," "]}):null,n]}))},X=n(387),ee=n(307),te=n(308),ne=n(61),ae=n(94),ce=k.e.div(a||(a=Object(p.a)(["\n  font-size: 16px;\n  line-height: 140%;\n  margin-top: 40px;\n  margin-bottom: 40px;\n  color: #fff;\n"]))),re=k.e.div(c||(c=Object(p.a)(["\n  text-align: center;\n  color: #e3ccf1;\n  margin: 20px auto;\n"]))),se=N.a.dib,ie=function(e){var t=e.onClick;return Object(Z.jsx)(K,{width:"100%",onClick:t,children:"Approve"})},oe=function(e){var t=e.max,n=e.onConfirm,a=e.onDismiss,c=e.gameAddress,r=Object(j.useState)(""),s=Object(f.a)(r,2),i=s[0],o=s[1],l=Object(j.useState)(!1),u=Object(f.a)(l,2),b=u[0],d=u[1],h=Object(ne.b)().t,p=Object(j.useMemo)((function(){return Object(ae.c)(t)}),[t]),v=new w.a(i||0),k=new w.a(p),S=Object(j.useCallback)((function(e){e.currentTarget.validity.valid&&o(e.currentTarget.value.replace(/,/g,"."))}),[o]),_=Object(j.useCallback)((function(){o(p)}),[p,o]),N=function(e){var t=Object(m.c)().account,n=Object(H.a)(),a=Object(j.useState)(!1),c=Object(f.a)(a,2),r=c[0],s=c[1],i=Object(j.useState)(new w.a("0")),o=Object(f.a)(i,2),l=o[0],u=o[1],b=Object(j.useCallback)(Object(g.a)(Object(x.a)().mark((function a(){var c;return Object(x.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,s(!0),a.t0=w.a,a.next=5,n.methods.allowance(t,e).call();case 5:a.t1=a.sent,c=new a.t0(a.t1),u(c.dividedBy(D.b.pow(se.decimals))),a.next=13;break;case 10:a.prev=10,a.t2=a.catch(0),console.error(a.t2);case 13:return a.prev=13,s(!1),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,10,13,16]])}))),[n,t,e]),d=Object(j.useCallback)(Object(g.a)(Object(x.a)().mark((function a(){var c;return Object(x.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.methods.approve(e,X.a.constants.MaxUint256).send({from:t});case 3:return c=a.sent,a.next=6,b();case 6:return a.abrupt("return",c);case 9:return a.prev=9,a.t0=a.catch(0),a.abrupt("return",!1);case 12:case"end":return a.stop()}}),a,null,[[0,9]])}))),[t,n,e,b]);return Object(j.useEffect)((function(){b()}),[t,b,e]),{onApprove:d,allowance:l,loadingAllowance:r}}(c),y=N.onApprove,C=N.allowance.isGreaterThanOrEqualTo(v);return Object(Z.jsxs)(O.z,{title:h("Add DIB to fight the boss"),className:"game-stake-modal",onDismiss:a,children:[Object(Z.jsx)(te.a,{value:i,onSelectMax:_,onChange:S,max:p,symbol:se.symbol,inputTitle:h("Stake"),decimals:se.decimals}),Object(Z.jsx)(ce,{children:Object(Z.jsxs)("ul",{children:[Object(Z.jsx)("li",{children:"This is a global raid and You are on The Dog team! Add DIBs to increase The Dog HP."}),Object(Z.jsx)("li",{children:"The more HP The Dog has, the higher chance for The Dog team to win."}),Object(Z.jsx)("li",{children:"Game pool includes Boss HP tokens and Dog HP tokens combined!"}),Object(Z.jsx)("li",{children:"If The Dog wins, you are all Winners! All DIB tokens in this game pool are distributed among all players."}),Object(Z.jsx)("li",{children:"If The Dog looses, all DIB tokens in this game pool are burned."})]})}),Object(Z.jsx)(re,{children:"Fight together to defeat the boss!"}),Object(Z.jsxs)(ee.a,{children:[Object(Z.jsx)(O.h,{variant:"secondary",onClick:a,width:"100%",disabled:b,children:h("Cancel")}),C?Object(Z.jsx)(O.h,{width:"100%",disabled:b||!v.isFinite()||v.eq(0)||v.gt(k),onClick:Object(g.a)(Object(x.a)().mark((function e(){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,n(i);case 3:d(!1),a();case 5:case"end":return e.stop()}}),e)}))),children:h(b?"Pending Confirmation":"Confirm")}):Object(Z.jsx)(ie,{onClick:y})]})]})},le=(n(432),function(e){var t=e.game,n=Object(m.c)().account,a=Object(j.useState)(!1),c=Object(f.a)(a,2),r=(c[0],c[1]),s=Object(H.c)(),i=t.endTime<Date.now()/1e3,o=i&&t.gameState===P.IN_PROGRESS;Object(j.useEffect)((function(){var e=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){var t;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.methods.owner().call();case 2:(t=e.sent)&&n&&r(t.toLowerCase()===n.toLowerCase());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n,s]);var l=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=3;break}return e.next=3,s.methods.finishGame(t.id).send({from:n});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsx)(Z.Fragment,{children:o&&Object(Z.jsx)(K,{onClick:l,children:"Fight!"})})}),ue=function(){var e=Object(g.a)(Object(x.a)().mark((function e(t,n,a){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.methods.stake(new w.a(n).times(D.b.pow(18)).toString()).send({from:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),be=k.e.span(r||(r=Object(p.a)(["\n  font-size: 30px;\n  font-weight: bold;\n"]))),de=N.a.dib,je=function(e){var t=e.gameState,n="",a=["game-banner__info","game-state-label"];t===P.IN_PROGRESS?(n="Boss landed",a.push("game-state-label--in-progress")):t===P.FINISHED?(n="Fighting the boss. Wait for the fight results",a.push("game-state-label--finised")):t===P.WIN?(n="Victory",a.push("game-state-label--won")):t===P.LOSE&&(n="Defeat",a.push("game-state-label--lost"));var c=a.join(" ");return Object(Z.jsx)("div",{className:c,children:Object(Z.jsx)("span",{children:n})})},me=function(e){var t=e.title,n=e.image,a=e.hp;return Object(Z.jsxs)("div",{className:"game-banner__opponent",children:[Object(Z.jsx)("div",{className:"game-banner__opponent-inner",children:Object(Z.jsx)("img",{className:"game-banner__persona",alt:t,src:n})}),Object(Z.jsx)("div",{className:"game-banner__opponent-name",children:t}),Object(Z.jsxs)("div",{className:"game-banner__opponent-hp",children:[Math.round(a)," HP"]})]})},Oe=function(e){var t=e.label,n=e.caption,a=e.value,c=Object(O.T)(n,{placement:"auto",tooltipOffset:[20,10]}),r=c.targetRef,s=c.tooltip,i=c.tooltipVisible;return Object(Z.jsxs)("div",{className:"game-info-item",children:[Object(Z.jsxs)("div",{className:"game-info-item__label",children:[t,Object(Z.jsx)("div",{ref:r,children:Object(Z.jsx)(O.q,{color:"textSubtle"})}),i&&s]}),Object(Z.jsx)("div",{className:"game-info-item__value",children:a})]})},he=function(e){var t=e.items;return Object(Z.jsx)("div",{className:"game-info",children:t.map((function(e,t){return Object(Z.jsx)(Oe,{label:e.label,value:e.value,caption:e.caption},t)}))})},fe=function(e){var t=e.dogHp,n=e.bossHp,a=Object(j.useMemo)((function(){return t+n}),[t,n]),c=Object(j.useMemo)((function(){return"".concat(n/a*100,"%")}),[n,a]),r=Object(j.useMemo)((function(){return"".concat(t/a*100,"%")}),[t,a]);return Object(Z.jsx)("div",{className:"game-balance",children:Object(Z.jsxs)("div",{className:"game-balance__bars",children:[Object(Z.jsx)("div",{className:"game-balance__boss game-balance__bar",style:{width:c}}),Object(Z.jsx)("div",{className:"game-balance__dog game-balance__bar",style:{width:r}})]})})},pe=function(e){var t=e.game,n=function(){var e=Object(m.c)().account,t=Object(C.a)(),n=Object(j.useCallback)(function(){var n=Object(g.a)(Object(x.a)().mark((function n(a,c){var r;return Object(x.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Object(T.d)(a,t),n.next=3,ue(r,c,e);case 3:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[t,e]);return{onStake:n}}(),a=n.onStake,c=Object(y.a)(de.address[_.e]).balance,r=new w.a(c).times(new w.a(10).pow(18-de.decimals)),s=function(){var e=Object(g.a)(Object(x.a)().mark((function e(n){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.address,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=Object(j.useMemo)((function(){return Y(t,de)}),[t]),o=i.bossHp,l=i.power,u=i.reward,b=(i.possibleReward,i.depositAmount),d=Object(j.useMemo)((function(){return W(t.id)}),[t.id]),h=t.gameState===P.IN_PROGRESS&&t.endTime>Date.now()/1e3,p=Object(O.R)(Object(Z.jsx)(oe,{max:r,onConfirm:s,gameAddress:t.address})),v=Object(f.a)(p,1)[0],k=Object(j.useMemo)((function(){return U(o,l)}),[l,o]),N=Object(j.useMemo)((function(){return[{label:"Chance to win",value:"".concat(k,"%"),caption:"The more DIBS are deposited to The Dog, the higher his chances to win and make you the winner.  When The Dog has the same HP as the Boss chances are equal. Formula: chances = dogHP / (bossHP + dogHP) * 100%"},{label:"Boss defeat reward",value:"".concat(V(u,2)," DIB"),caption:"The amount of DIB that will be distributed between players if The Dog wins. Rewards are distributed proportionally to their deposits. If the boss wins all tokens are burned."},{label:"Your stake",value:"".concat(V(b,2)," DIB"),caption:"The amount of tokens you deposited to fight the boss. The more you deposit, the more The Dog has chances to win and the more you will get rewards if The Dog wins."}]}),[k,u,b]);return Object(Z.jsxs)("div",{className:"game-banner",children:[Object(Z.jsxs)("div",{className:"game-banner__inner",children:[Object(Z.jsx)(me,{title:d.name,image:d.image,hp:o}),Object(Z.jsx)("div",{className:"game-banner__vs",children:"vs"}),Object(Z.jsx)(me,{title:"The Dog In Black",image:"/images/bosses/dib.png",hp:l})]}),Object(Z.jsx)(fe,{bossHp:o,dogHp:l}),Object(Z.jsx)(he,{items:N}),Object(Z.jsx)("div",{className:"game-banner__countdown",children:Object(Z.jsx)(S.a,{date:1e3*t.endTime,renderer:function(e){var n=e.completed,a=e.formatted,c=a.days,r=a.hours,s=a.minutes,i=a.seconds;return n?Object(Z.jsx)(je,{gameState:t.gameState}):Object(Z.jsx)("div",{children:Object(Z.jsxs)("div",{children:["Landing in",c>0&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(be,{children:c})," days"]})," ",r>0&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(be,{children:r})," hours"]})," ",Object(Z.jsx)(be,{children:s})," minutes ",Object(Z.jsx)(be,{children:i})," seconds"]})})}})}),Object(Z.jsxs)("div",{className:"game-banner__cta",children:[h&&Object(Z.jsx)(K,{scale:"lg",onClick:v,children:"Add DIB HP"}),Object(Z.jsx)(le,{game:t})]})]})},xe=(n(433),n(325)),ge=(n(434),k.e.tr(s||(s=Object(p.a)(["\n  cursor: pointer;\n  background: #1b2131;\n  border-bottom: 1px solid #2c3550;\n\n  color: #fff;\n\n  &:nth-child(odd) {\n    background: #1f2638;\n  }\n\n  @media (max-width: 560px) {\n    td {\n      display: block;\n    }\n  }\n"])))),ve=k.e.div(i||(i=Object(p.a)(["\n  padding: 14px 20px;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding-right: 8px;\n"]))),we=N.a.dib,ke=function(e){var t=e.game,n=Object(j.useMemo)((function(){return W(t.id)}),[t.id]),a=Object(j.useMemo)((function(){return Y(t,we)}),[t]),c=a.bossHp,r=a.reward,s=a.claimableAmount,i=a.possibleReward,o=a.chanceToWinPercent,l=function(){var e=Object(m.c)().account,t=Object(C.a)(),n=Object(j.useCallback)(function(){var n=Object(g.a)(Object(x.a)().mark((function n(a){var c;return Object(x.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Object(T.d)(a,t),n.next=3,c.methods.claimRewards().send({from:e});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e]);return{onClaim:n}}(),u=l.onClaim,b=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.address);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Z.jsxs)(ge,{className:"game-row",children:[Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:Object(Z.jsxs)("div",{className:"game-row__persona",children:[Object(Z.jsx)("img",{src:n.image,alt:n.name}),Object(Z.jsx)("div",{children:n.name})]})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:t.gameState===P.WIN?Object(Z.jsx)("div",{className:"game-state game-state--win",children:"VICTORY"}):Object(Z.jsx)("div",{className:"game-state game-state--lose",children:"DEFEAT"})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:Object(Z.jsxs)(xe.a,{label:"Total Reward",children:[V(r,2)," DIB"]})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:Object(Z.jsxs)(xe.a,{label:"Boss HP",children:[V(c,2)," HP"]})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:Object(Z.jsxs)(xe.a,{label:"Chances",children:[V(o,2),"%"]})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:Object(Z.jsxs)(xe.a,{label:"Your reward",children:[V(i,2)," DIB"]})})}),Object(Z.jsx)("td",{className:"game-row__cell",children:Object(Z.jsx)(ve,{children:s>0?Object(Z.jsx)(K,{scale:"lg",onClick:b,children:"Claim"}):null})})]})},Se=k.e.div(o||(o=Object(p.a)(["\n  overflow: visible;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),_e=k.e.table(l||(l=Object(p.a)(["\n  border-collapse: collapse;\n  font-size: 14px;\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n"]))),Ne=k.e.tbody(u||(u=Object(p.a)(["\n  & tr {\n    td {\n      font-size: 16px;\n      vertical-align: middle;\n    }\n  }\n"]))),ye=k.e.div(b||(b=Object(p.a)(["\n  position: relative;\n"]))),Ce=k.e.div(d||(d=Object(p.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),De=function(e){var t=e.games,n=Object(ne.b)().t,a=Object(j.useRef)(null);return Object(Z.jsxs)(ye,{children:[Object(Z.jsx)(Se,{ref:a,children:Object(Z.jsx)(_e,{children:Object(Z.jsx)(Ne,{children:t.map((function(e){return Object(Z.jsx)(ke,{game:e},"game-row-".concat(e.id))}))})})}),Object(Z.jsx)(Ce,{children:Object(Z.jsxs)(O.h,{variant:"text",onClick:function(){a.current.scrollIntoView({behavior:"smooth"})},children:[Object(Z.jsx)(O.m,{width:"24px",color:"primary"}),n("Back To Top")]})})]})},Te=function(){var e=Object(m.c)().account,t=z(e),n=t.data,a=t.isLoading,c=Object(j.useMemo)((function(){var e=[],t=[];return n.forEach((function(n){![P.LOSE,P.WIN].includes(n.gameState)?e.push(n):t.push(n)})),{activeGames:e.sort((function(e,t){return t.id-e.id})),finishedGames:t.sort((function(e,t){return t.id-e.id}))}}),[n]),r=c.activeGames,s=c.finishedGames,i=a&&!n.length;return Object(Z.jsx)(h.a,{children:i?Object(Z.jsx)("div",{className:"games__loader",children:Object(Z.jsx)(O.F,{})}):Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{className:"games",children:[Object(Z.jsxs)("div",{className:"game-header",children:[Object(Z.jsx)("div",{className:"game-title",children:"Forget it!"}),Object(Z.jsx)("div",{className:"game-title-caption",children:"first play 2 burn game"})]}),r.map((function(e){return Object(Z.jsx)(pe,{game:e},e.address)}))]}),Object(Z.jsxs)("div",{className:"finished-games",children:[Object(Z.jsx)("div",{className:"finished-games-title",children:"Finished games"}),Object(Z.jsx)(De,{games:s})]})]})})}}}]);
//# sourceMappingURL=8.a46c6e3a.chunk.js.map